<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>‚úÖ Advanced To-Do List</title>
<style>
  /* Reset & base */
  * {
    box-sizing: border-box;
  }
  body {
    margin: 0;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #f5f7fa, #c3cfe2);
    display: flex;
    justify-content: center;
    padding: 20px;
    min-height: 100vh;
    color: #333;
    user-select: none;
  }

  #app {
    background: white;
    max-width: 520px;
    width: 100%;
    border-radius: 12px;
    box-shadow: 0 12px 30px rgba(0, 0, 0, 0.2);
    padding: 30px 35px;
    display: flex;
    flex-direction: column;
  }

  h1 {
    margin: 0 0 12px;
    font-weight: 900;
    font-size: 2.5rem;
    text-align: center;
    letter-spacing: 1.5px;
    color: #4a90e2;
  }

  #quote {
    font-style: italic;
    font-size: 1rem;
    color: #666;
    text-align: center;
    margin-bottom: 20px;
    min-height: 40px;
    transition: opacity 0.8s ease-in-out;
  }

  .input-area {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-bottom: 15px;
  }

  #input-task {
    flex-grow: 2;
    border: 2px solid #4a90e2;
    border-radius: 8px;
    padding: 12px 15px;
    font-size: 1.1rem;
    outline-offset: 4px;
    transition: border-color 0.3s;
    min-width: 180px;
  }
  #input-task:focus {
    border-color: #357ABD;
  }

  #input-date {
    border: 2px solid #4a90e2;
    border-radius: 8px;
    padding: 12px 15px;
    font-size: 1.1rem;
    outline-offset: 4px;
    transition: border-color 0.3s;
    width: 150px;
    color: #555;
  }
  #input-date:focus {
    border-color: #357ABD;
  }

  button {
    border: none;
    background-color: #4a90e2;
    color: white;
    font-weight: 700;
    padding: 0 18px;
    cursor: pointer;
    font-size: 1.1rem;
    border-radius: 8px;
    height: 44px;
    transition: background-color 0.3s, transform 0.15s ease;
    user-select: none;
  }
  button:hover {
    background-color: #357ABD;
    transform: scale(1.05);
  }
  button:active {
    transform: scale(0.95);
  }

  /* Ripple effect */
  .ripple {
    position: relative;
    overflow: hidden;
  }
  .ripple:after {
    content: "";
    position: absolute;
    border-radius: 50%;
    width: 100px;
    height: 100px;
    left: 50%;
    top: 50%;
    pointer-events: none;
    background: rgba(255, 255, 255, 0.7);
    transform: translate(-50%, -50%) scale(0);
    opacity: 0;
    animation: ripple 0.6s linear;
  }
  .ripple:active:after {
    transform: translate(-50%, -50%) scale(1);
    opacity: 1;
    transition: none;
    animation-name: ripple;
    animation-duration: 0.6s;
    animation-timing-function: ease-out;
  }
  @keyframes ripple {
    to {
      opacity: 0;
      transform: translate(-50%, -50%) scale(2);
    }
  }

  /* To-Do List */
  #task-list {
    list-style: none;
    padding: 0;
    margin: 0;
    flex-grow: 1;
    overflow-y: auto;
    max-height: 360px;
    border-radius: 10px;
  }

  .task-item {
    background: #f0f4f8;
    border-radius: 10px;
    padding: 16px 22px;
    margin-bottom: 14px;
    display: flex;
    flex-direction: column;
    box-shadow: 0 4px 10px rgba(74,144,226,0.15);
    cursor: default;
    transition: background-color 0.3s ease;
    position: relative;
  }
  .task-item.done {
    background: #d7f5d7;
    color: #2f662f;
    text-decoration: line-through;
    font-style: italic;
    box-shadow: 0 4px 10px rgba(50,160,50,0.3);
  }
  .task-item:hover {
    background-color: #dbe9fa;
  }

  .task-text-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .task-text {
    font-size: 1.15rem;
    word-break: break-word;
    user-select: text;
  }

  .due-date {
    font-size: 0.9rem;
    color: #888;
    font-style: italic;
    margin-left: 12px;
    white-space: nowrap;
  }

  /* Buttons for each task */
  .task-buttons {
    margin-top: 12px;
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
  }

  .task-btn {
    border: none;
    padding: 8px 14px;
    border-radius: 8px;
    font-size: 1rem;
    cursor: pointer;
    background: #4a90e2;
    color: white;
    transition: background-color 0.3s, transform 0.15s ease;
    user-select: none;
  }
  .task-btn:hover {
    background: #357abd;
    transform: scale(1.1);
  }
  .task-btn:active {
    transform: scale(0.95);
  }

  /* Bottom controls */
  .bottom-controls {
    display: flex;
    justify-content: space-between;
    flex-wrap: wrap;
    margin-top: 20px;
    gap: 12px;
  }

  .bottom-btn {
    flex: 1;
    background: #888;
    color: white;
    font-weight: 600;
    padding: 12px 15px;
    border-radius: 10px;
    cursor: pointer;
    font-size: 1.1rem;
    user-select: none;
    transition: background-color 0.3s, transform 0.15s ease;
    min-width: 130px;
    text-align: center;
  }
  .bottom-btn:hover {
    background-color: #555;
    transform: scale(1.05);
  }
  .bottom-btn:active {
    transform: scale(0.95);
  }

  /* Progress bar container */
  #progress-container {
    margin: 12px 0 4px;
    height: 14px;
    background: #e0e6f0;
    border-radius: 9px;
    overflow: hidden;
    box-shadow: inset 0 1px 3px rgba(0,0,0,0.1);
  }

  /* Progress bar itself */
  #progress-bar {
    height: 14px;
    background: #4a90e2;
    width: 0%;
    transition: width 0.5s ease-in-out;
    border-radius: 9px 0 0 9px;
  }

  /* Undo snackbar */
  #undo-snackbar {
    position: fixed;
    bottom: 30px;
    left: 50%;
    transform: translateX(-50%);
    background: #4a90e2;
    color: white;
    padding: 14px 20px;
    border-radius: 8px;
    font-weight: 600;
    display: none;
    align-items: center;
    gap: 16px;
    z-index: 9999;
    user-select: none;
  }
  #undo-snackbar button {
    background: white;
    color: #4a90e2;
    border: none;
    border-radius: 6px;
    font-size: 1rem;
    font-weight: 700;
    padding: 6px 12px;
    cursor: pointer;
    user-select: none;
    transition: background-color 0.3s;
  }
  #undo-snackbar button:hover {
    background-color: #dae6fc;
  }

  /* Scrollbar styling for task list */
  #task-list::-webkit-scrollbar {
    width: 8px;
  }
  #task-list::-webkit-scrollbar-thumb {
    background-color: #4a90e2;
    border-radius: 8px;
  }
  #task-list::-webkit-scrollbar-track {
    background: #e0e6f0;
  }

  /* Responsive */
  @media (max-width: 560px) {
    #app {
      max-width: 100%;
      padding: 20px 15px;
    }
    h1 {
      font-size: 2rem;
    }
    .input-area {
      flex-direction: column;
    }
    #input-task, #input-date {
      width: 100%;
      margin-bottom: 8px;
    }
    button {
      width: 100%;
      border-radius: 8px;
    }
    .bottom-controls {
      flex-direction: column;
      gap: 15px;
    }
    .bottom-btn {
      min-width: 100%;
    }
  }
</style>
</head>
<body>
  <div id="app" role="main" aria-label="Advanced To-Do List Application">
    <h1>üìã My To-Do List</h1>
    <div id="quote" aria-live="polite" aria-atomic="true">Loading quote...</div>
    <div class="input-area" role="region" aria-label="Add new task and due date">
      <input id="input-task" type="text" aria-label="New task input" placeholder="Add your new task here..." autocomplete="off" />
      <input id="input-date" type="date" aria-label="Due date input" />
      <button id="add-btn" aria-label="Add task" class="ripple">‚ûï Add</button>
    </div>
    <div id="progress-container" aria-label="Task completion progress">
      <div id="progress-bar"></div>
    </div>
    <ul id="task-list" role="list" aria-label="List of tasks"></ul>
    <div class="bottom-controls">
      <button id="import-json-btn" class="bottom-btn ripple" aria-label="Import tasks from JSON">‚¨áÔ∏è Import JSON</button>
      <button id="export-json-btn" class="bottom-btn ripple" aria-label="Export tasks to JSON">‚¨ÜÔ∏è Export JSON</button>
      <button id="import-csv-btn" class="bottom-btn ripple" aria-label="Import tasks from CSV">‚¨áÔ∏è Import CSV</button>
      <button id="export-csv-btn" class="bottom-btn ripple" aria-label="Export tasks to CSV">‚¨ÜÔ∏è Export CSV</button>
      <button id="clear-btn" class="bottom-btn ripple" aria-label="Clear all tasks">üßπ Clear All</button>
      <button id="sort-btn" class="bottom-btn ripple" aria-label="Sort tasks alphabetically">üî§ Sort</button>
    </div>

    <div id="undo-snackbar" role="alert" aria-live="assertive" aria-atomic="true">
      <span id="undo-message"></span>
      <button id="undo-btn" aria-label="Undo last action">Undo ‚Ü©Ô∏è</button>
    </div>

    <input type="file" id="file-input" accept=".json,.csv" style="display:none" />
  </div>

<script>
  (() => {
    // DOM Elements
    const addBtn = document.getElementById('add-btn');
    const clearBtn = document.getElementById('clear-btn');
    const sortBtn = document.getElementById('sort-btn');
    const inputTask = document.getElementById('input-task');
    const inputDate = document.getElementById('input-date');
    const taskList = document.getElementById('task-list');
    const quoteEl = document.getElementById('quote');
    const progressBar = document.getElementById('progress-bar');
    const undoSnackbar = document.getElementById('undo-snackbar');
    const undoMessage = document.getElementById('undo-message');
    const undoBtn = document.getElementById('undo-btn');
    const importJsonBtn = document.getElementById('import-json-btn');
    const exportJsonBtn = document.getElementById('export-json-btn');
    const importCsvBtn = document.getElementById('import-csv-btn');
    const exportCsvBtn = document.getElementById('export-csv-btn');
    const fileInput = document.getElementById('file-input');

    // Motivational quotes
    const quotes = [
      "üöÄ Keep going, you‚Äôre doing great!",
      "üî• Stay focused and never give up!",
      "üåü Believe in yourself and all that you are.",
      "üí° Small steps every day lead to big results.",
      "‚ú® You are capable of amazing things!",
      "üåà Progress, not perfection.",
      "üéØ What you do today can improve all your tomorrows.",
      "üí™ One step at a time.",
      "üß† Stay sharp, stay kind.",
      "üî• Your future is created by what you do today, not tomorrow."
    ];

    // History for undo: stack of actions {type, data}
    const historyStack = [];

    // Utils
    function formatDate(dateStr) {
      if (!dateStr) return "";
      const date = new Date(dateStr);
      if (isNaN(date.getTime())) return "";
      return date.toLocaleDateString(undefined, {
        year: "numeric", month: "short", day: "numeric"
      });
    }

    // Save/load tasks
    function loadTasks() {
      const stored = localStorage.getItem('tasks');
      if (!stored) return;
      try {
        const tasks = JSON.parse(stored);
        tasks.forEach(task => createTaskElement(task.text, task.done, task.due || ""));
      } catch (e) {
        console.error('Failed to load tasks:', e);
      }
      updateProgress();
    }

    function saveTasks() {
      const tasks = [];
      taskList.querySelectorAll('.task-item').forEach(item => {
        const text = item.querySelector('.task-text').textContent;
        const done = item.classList.contains('done');
        const due = item.getAttribute('data-due') || "";
        tasks.push({ text, done, due });
      });
      localStorage.setItem('tasks', JSON.stringify(tasks));
    }

    // Show quote with fade effect
    function showQuote() {
      quoteEl.style.opacity = 0;
      setTimeout(() => {
        quoteEl.textContent = quotes[Math.floor(Math.random() * quotes.length)];
        quoteEl.style.opacity = 1;
      }, 800);
    }

    // Create task
    function createTaskElement(text, done = false, due = "") {
      const li = document.createElement('li');
      li.className = 'task-item fade-in';
      if (done) li.classList.add('done');
      li.setAttribute('data-due', due);

      // Text row holding task and due
      const textRow = document.createElement('div');
      textRow.className = 'task-text-row';

      const spanText = document.createElement('span');
      spanText.className = 'task-text';
      spanText.textContent = text;
      spanText.setAttribute('tabindex', '-1');
      textRow.appendChild(spanText);

      if (due) {
        const dueSpan = document.createElement('span');
        dueSpan.className = 'due-date';
        dueSpan.textContent = "Due: " + formatDate(due);
        textRow.appendChild(dueSpan);
      }

      li.appendChild(textRow);

      // Buttons container
      const btns = document.createElement('div');
      btns.className = 'task-buttons';

      // Done button
      const doneBtn = document.createElement('button');
      doneBtn.className = 'task-btn done-btn ripple';
      doneBtn.setAttribute('aria-label', done ? 'Mark task as not completed' : 'Mark task as completed');
      doneBtn.textContent = done ? '‚Ü©Ô∏è Undo' : '‚úÖ Done';
      doneBtn.title = done ? 'Mark as not done' : 'Mark as done';
      doneBtn.addEventListener('click', () => {
        const wasDone = li.classList.contains('done');
        li.classList.toggle('done');
        doneBtn.textContent = li.classList.contains('done') ? '‚Ü©Ô∏è Undo' : '‚úÖ Done';
        doneBtn.setAttribute('aria-label', li.classList.contains('done') ? 'Mark task as not completed' : 'Mark task as completed');
        saveTasks();

        addHistory('toggle-done', { li, prevState: wasDone });
        updateProgress();
      });
      btns.appendChild(doneBtn);

      // Edit button
      const editBtn = document.createElement('button');
      editBtn.className = 'task-btn edit-btn ripple';
      editBtn.setAttribute('aria-label', 'Edit task');
      editBtn.textContent = '‚úèÔ∏è Edit';
      editBtn.title = 'Edit task';
      editBtn.addEventListener('click', () => {
        inputTask.value = spanText.textContent;
        inputDate.value = due;
        inputTask.focus();
        addHistory('edit-remove', { li, text: spanText.textContent, due });
        li.remove();
        saveTasks();
        updateProgress();
      });
      btns.appendChild(editBtn);

      // Delete button
      const deleteBtn = document.createElement('button');
      deleteBtn.className = 'task-btn delete-btn ripple';
      deleteBtn.setAttribute('aria-label', 'Delete task');
      deleteBtn.textContent = 'üóëÔ∏è Delete';
      deleteBtn.title = 'Delete task';
      deleteBtn.addEventListener('click', () => {
        if (confirm('Are you sure you want to delete this task?')) {
          addHistory('delete', { li, text: spanText.textContent, done: li.classList.contains('done'), due });
          li.remove();
          saveTasks();
          updateProgress();
          showUndo(`Deleted task: "${spanText.textContent}"`);
        }
      });
      btns.appendChild(deleteBtn);

      li.appendChild(btns);

      taskList.appendChild(li);
      updateProgress();

      // Check for reminder scheduling
      if (!done && due) scheduleReminder(spanText.textContent, due, li);
    }

    // Add to history stack for undo
    function addHistory(type, data) {
      historyStack.push({ type, data, timestamp: Date.now() });
      if (historyStack.length > 50) historyStack.shift(); // Limit history length
      showUndoMessage();
    }

    // Undo functionality
    function undoLast() {
      if (historyStack.length === 0) return;
      const action = historyStack.pop();
      const { type, data } = action;

      switch (type) {
        case 'delete':
          createTaskElement(data.text, data.done, data.due);
          break;
        case 'edit-remove':
          createTaskElement(data.text, false, data.due);
          break;
        case 'toggle-done':
          if (data.li.isConnected) { // if still in DOM
            if (data.prevState) data.li.classList.add('done');
            else data.li.classList.remove('done');
            saveTasks();
            updateProgress();
          }
          break;
      }
      saveTasks();
      updateProgress();
      hideUndo();
    }

    // Undo snackbar UI
    function showUndo(message) {
      undoMessage.textContent = message;
      undoSnackbar.style.display = 'flex';
      // Hide after 8 seconds if no interaction
      clearTimeout(undoSnackbar.timeoutId);
      undoSnackbar.timeoutId = setTimeout(() => {
        hideUndo();
      }, 8000);
    }
    function hideUndo() {
      undoSnackbar.style.display = 'none';
      undoMessage.textContent = '';
    }
    function showUndoMessage() {
      if (historyStack.length) {
        undoMessage.textContent = 'Action performed. Click Undo to revert.';
        undoSnackbar.style.display = 'flex';
        clearTimeout(undoSnackbar.timeoutId);
        undoSnackbar.timeoutId = setTimeout(hideUndo, 6000);
      }
    }

    // Add new task handler
    function addTask() {
      const text = inputTask.value.trim();
      const due = inputDate.value;
      if (!text) {
        alert('Please enter a task.');
        return;
      }
      createTaskElement(text, false, due);
      addHistory('add', { text, due });
      inputTask.value = '';
      inputDate.value = '';
      saveTasks();
      inputTask.focus();
    }

    // Clear all tasks with confirmation
    function clearAll() {
      if (taskList.children.length === 0) {
        alert('No tasks to clear!');
        return;
      }
      if (confirm('Are you sure you want to clear all tasks?')) {
        // Save all for undo
        Array.from(taskList.children).forEach(li => {
          const text = li.querySelector('.task-text').textContent;
          const done = li.classList.contains('done');
          const due = li.getAttribute('data-due') || "";
          addHistory('delete', { li, text, done, due });
        });
        while (taskList.firstChild) taskList.removeChild(taskList.firstChild);
        saveTasks();
        updateProgress();
        showUndo("Cleared all tasks");
      }
    }

    // Sort tasks alphabetically
    function sortTasks() {
      const tasks = [];
      taskList.querySelectorAll('.task-item').forEach(item => {
        tasks.push({
          text: item.querySelector('.task-text').textContent,
          done: item.classList.contains('done'),
          due: item.getAttribute('data-due') || ""
        });
      });
      tasks.sort((a, b) => a.text.localeCompare(b.text));
      while (taskList.firstChild) taskList.removeChild(taskList.firstChild);
      tasks.forEach(t => createTaskElement(t.text, t.done, t.due));
      saveTasks();
    }


    // Update progress bar (percentage of done tasks)
    function updateProgress() {
      const tasks = taskList.querySelectorAll('.task-item');
      if (tasks.length === 0) {
        progressBar.style.width = '0%';
        return;
      }
      const doneTasks = taskList.querySelectorAll('.task-item.done').length;
      const percent = (doneTasks / tasks.length) * 100;
      progressBar.style.width = percent + '%';
      progressBar.title = `Progress: ${doneTasks} of ${tasks.length} tasks done (${percent.toFixed(0)}%)`;
    }

    // Ripple effect for buttons
    function applyRippleEffect() {
      const ripples = document.querySelectorAll('.ripple');
      ripples.forEach(btn => {
        btn.addEventListener('click', function (e) {
          const ripple = document.createElement('span');
          ripple.className = 'ripple-effect';
          ripple.style.left = e.offsetX + 'px';
          ripple.style.top = e.offsetY + 'px';
          this.appendChild(ripple);
          setTimeout(() => ripple.remove(), 600);
        });
      });
    }

    // Export tasks to JSON
    function exportToJSON() {
      const tasks = [];
      taskList.querySelectorAll('.task-item').forEach(item => {
        tasks.push({
          text: item.querySelector('.task-text').textContent,
          done: item.classList.contains('done'),
          due: item.getAttribute('data-due') || ""
        });
      });
      const dataStr = JSON.stringify(tasks, null, 2);
      downloadFile(dataStr, 'tasks.json', 'application/json');
    }

    // Import tasks from JSON
    function importFromJSON(json) {
      try {
        const tasks = JSON.parse(json);
        if (!Array.isArray(tasks)) throw new Error("Invalid JSON");
        while (taskList.firstChild) taskList.removeChild(taskList.firstChild);
        tasks.forEach(t => createTaskElement(t.text, t.done, t.due || ""));
        saveTasks();
        alert('Tasks imported successfully!');
      } catch (e) {
        alert('Invalid JSON file or format.');
      }
    }

    // Export tasks to CSV
    function exportToCSV() {
      const rows = [['Task', 'Done', 'Due Date']];
      taskList.querySelectorAll('.task-item').forEach(item => {
        const text = item.querySelector('.task-text').textContent.replace(/"/g, '""');
        const done = item.classList.contains('done') ? 'Yes' : 'No';
        const due = item.getAttribute('data-due') || "";
        rows.push([`"${text}"`, done, due]);
      });
      const csvContent = rows.map(e => e.join(",")).join("\n");
      downloadFile(csvContent, 'tasks.csv', 'text/csv');
    }

    // Import tasks from CSV (simple parsing)
    function importFromCSV(csv) {
      try {
        const lines = csv.trim().split('\n');
        const header = lines.shift().split(',');
        if (header.length < 2 || header[0].toLowerCase() !== 'task') throw new Error("Invalid CSV");
        while (taskList.firstChild) taskList.removeChild(taskList.firstChild);
        lines.forEach(line => {
          // Handle quoted text and commas inside quotes
          const values = line.match(/(".*?"|[^",]+)(?=\s*,|\s*$)/g).map(v => v.replace(/^"|"$/g, ""));
          const [text, doneStr, due] = values;
          createTaskElement(text, doneStr.toLowerCase() === 'yes', due || "");
        });
        saveTasks();
        alert('Tasks imported successfully!');
      } catch (e) {
        alert('Invalid CSV file or format.');
      }
    }

    // Helper: Download file
    function downloadFile(content, filename, mime) {
      const blob = new Blob([content], { type: mime });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = filename;
      document.body.appendChild(a);
      a.click();
      setTimeout(() => {
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
      }, 100);
    }

    // Handle file input change (import)
    fileInput.addEventListener('change', (e) => {
      const file = e.target.files[0];
      if (!file) return;
      const reader = new FileReader();
      reader.onload = function(evt) {
        const text = evt.target.result;
        if (file.name.endsWith('.json')) {
          importFromJSON(text);
        } else if (file.name.endsWith('.csv')) {
          importFromCSV(text);
        } else {
          alert('Unsupported file type!');
        }
        fileInput.value = "";
      };
      reader.readAsText(file);
    });

    // Button event listeners for import/export
    importJsonBtn.addEventListener('click', () => {
      fileInput.accept = ".json";
      fileInput.click();
    });
    exportJsonBtn.addEventListener('click', exportToJSON);
    importCsvBtn.addEventListener('click', () => {
      fileInput.accept = ".csv";
      fileInput.click();
    });
    exportCsvBtn.addEventListener('click', exportToCSV);

    // Keyboard interaction: Enter to add task
    inputTask.addEventListener('keydown', e => {
      if (e.key === 'Enter') addTask();
    });
    inputDate.addEventListener('keydown', e => {
      if (e.key === 'Enter') addTask();
    });

    addBtn.addEventListener('click', addTask);
    clearBtn.addEventListener('click', clearAll);
    sortBtn.addEventListener('click', sortTasks);
    undoBtn.addEventListener('click', () => {
      undoLast();
    });

    // Reminder notification scheduling
    function scheduleReminder(taskText, dueDateStr, liElement) {
      if (!("Notification" in window)) return; // Not supported

      // Request permission if not granted
      if (Notification.permission !== "granted") {
        Notification.requestPermission();
      }
      
      const now = new Date();
      const dueDate = new Date(dueDateStr);
      const delay = dueDate.getTime() - now.getTime();

      if (delay > 0) {
        liElement.reminderTimeout = setTimeout(() => {
          if (!liElement.classList.contains('done')) {
            showNotification(taskText, dueDate);
          }
        }, delay);
      }
    }

    // Show browser notification with snooze options
    function showNotification(text, dueDate) {
      if (Notification.permission !== "granted") return;

      const notification = new Notification("Task Reminder ‚è∞", {
        body: `Task: ${text}\nDue at: ${formatDate(dueDate.toISOString())}`,
        icon: "https://cdn-icons-png.flaticon.com/512/1827/1827392.png"
      });

      notification.onclick = () => window.focus();

      // Add simple snooze buttons (emulated here as alerts due to limited Notification API)
      // In real apps, service workers are used for action buttons.
      setTimeout(() => {
        notification.close();
        if (confirm(`Snooze reminder for "${text}" by 5 minutes?`)) {
          setTimeout(() => {
            if (Notification.permission === "granted") {
              showNotification(text, new Date(new Date().getTime() + 5*60000));
            }
          }, 5*60000);
        }
      }, 7000);
    }

    // Initialize
    loadTasks();
    showQuote();
    setInterval(showQuote, 30000);

    // Helper ripple effect on buttons
    // Added CSS based ripple, so this is just extra for better UX
    // You can enhance as needed.

  })();
</script>
</body>
</html>
